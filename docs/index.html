
<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Security Certification Roadmap</title>

    <!-- 1. Load Fonts (Inter for UI & Fira Code for technical text) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Fira+Code:wght@400;600&display=swap" rel="stylesheet">

    <!-- 2. Load Alpine.js (for interactivity: search, dark mode, modals) -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- 3. Load Tailwind CSS via CDN with Custom Configuration -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                    mono: ['Fira Code', 'monospace'],
                },
                extend: {
                    colors: {
                        // Original color scheme mapped for easy use
                        domain: {
                            net: '#548235',
                            iam: '#008080',
                            eng: '#c06216',
                            asset: '#e4ac03',
                            mgmt: '#2a2a2a',
                            test: '#683e9b',
                            soft: '#2665a0',
                            ops: '#c0514d',
                        },
                        // Light/dark backgrounds
                        bgdata: {
                            light: '#f9fafb', // Lighter than gray-50
                            dark: '#0f172a',  // Darker than slate-900
                        }
                    },
                    boxShadow: {
                        'glass': '0 4px 30px rgba(0, 0, 0, 0.1)',
                    },
                    gridTemplateColumns: {
                        // Custom grid for our 8 domains
                        'roadmap': 'repeat(8, minmax(0, 1fr))',
                    }
                }
            }
        }
    </script>

    <style type="text/tailwindcss">
        /* Base styles and custom utilities */
        @layer base {
            [x-cloak] {
                display: none !important;
            }
        }

        @layer components {
            .glass-panel {
                @apply bg-white/70 dark:bg-bgdata-dark/70 backdrop-blur-lg;
            }
            .cert-chip {
                @apply relative w-full text-center text-[10px] sm:text-xs font-semibold text-white py-1.5 px-2 rounded-lg shadow-md border-b-2 border-black/20 
                       transform transition-all duration-200 cursor-pointer
                       hover:scale-105 hover:shadow-xl hover:z-10 truncate block;
                font-family: 'Fira Code', monospace;
            }
            /* Enhanced Tooltip for showing full name on hover */
            .tooltip {
                @apply invisible absolute;
            }
            .has-tooltip:hover .tooltip {
                @apply visible z-50;
            }
        }
        
        @layer utilities {
            .no-scrollbar::-webkit-scrollbar {
                display: none;
            }
            .no-scrollbar {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        }
    </style>
</head>

<!-- Alpine.js Data Scope and Dark Mode Initialization -->
<body 
    x-data="certMap()" 
    x-init="init()" 
    :class="{ 'dark': isDark }" 
    class="bg-bgdata-light dark:bg-bgdata-dark text-gray-800 dark:text-gray-200 min-h-screen transition-colors duration-300 font-sans"
>

    <!-- ===========================
       Fixed Header with Controls
    ============================ -->
    <header class="sticky top-0 z-50 glass-panel border-b border-gray-200/50 dark:border-white/10 shadow-glass">
        <div class="max-w-[98%] mx-auto px-4 sm:px-6 lg:px-8 py-3">
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4">
                
                <!-- Title & Stats -->
                <div class="flex items-center gap-4 flex-shrink-0">
                    <h1 class="text-2xl font-extrabold tracking-tight bg-gradient-to-r from-blue-600 to-sky-400 text-transparent bg-clip-text">
                        Certification Roadmap
                    </h1>
                    <span class="hidden md:inline-block text-xs font-mono text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800/50 rounded-full px-3 py-1" x-text="certs.length + ' Certs'"></span>
                </div>

                <!-- Controls: Search & Dark Mode -->
                <div class="flex items-center gap-3 w-full sm:w-auto">
                    <div class="relative w-full sm:w-64">
                        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                            <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"/></svg>
                        </div>
                        <input type="search" x-model.debounce.300ms="searchQuery" placeholder="Filter by name, acronym..." class="block w-full p-2.5 pl-10 text-sm border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-800 focus:ring-blue-500 focus:border-blue-500 dark:placeholder-gray-400 dark:text-white transition-colors">
                        <button x-show="searchQuery.length > 0" @click="searchQuery = ''" class="absolute inset-y-0 right-0 flex items-center pr-3 text-gray-400 hover:text-gray-600 dark:hover:text-white">
                            <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>

                    <button @click="toggleTheme()" class="p-2.5 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-700 transition-all duration-200" aria-label="Toggle Dark Mode">
                        <svg x-show="isDark" class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-4.773-4.227l-1.591 1.591M3.75 12H6m.386-6.364L4.773 4.773" /></svg>
                        <svg x-show="!isDark" class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" /></svg>
                    </button>
                </div>
            </div>

            <!-- Full Domain Legend (Scrollable on mobile) -->
            <div class="mt-4 pt-3 border-t border-gray-200/80 dark:border-white/10">
                <div class="flex gap-2 sm:gap-4 overflow-x-auto no-scrollbar pb-1.5">
                    <template x-for="domain in domains" :key="domain.key">
                        <div class="flex-shrink-0 flex items-center gap-2 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-800/80 border border-gray-200 dark:border-gray-700">
                            <span class="w-3 h-3 rounded-full" :style="`background-color: ${domain.color}`"></span>
                            <span class="text-xs font-semibold tracking-wide text-gray-700 dark:text-gray-300 whitespace-nowrap" x-text="domain.name"></span>
                        </div>
                    </template>
                </div>
            </div>
        </div>
    </header>

    <!-- ===========================
       Main Content Grid
    ============================ -->
    <main class="max-w-[98%] mx-auto pt-8 px-2 sm:px-4">

        <div x-show="searchQuery !== '' && filteredCerts.length === 0" class="text-center py-20" x-cloak>
             <svg class="w-12 h-12 mx-auto text-gray-400 mb-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>
             <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-300">No Results Found</h3>
             <p class="text-gray-500 mt-2">No certifications matched your search for "<span class="font-semibold text-gray-600 dark:text-gray-300" x-text="searchQuery"></span>".</p>
             <button @click="searchQuery = ''" class="mt-4 text-blue-500 hover:underline font-semibold">Clear Search</button>
        </div>

        <div x-show="filteredCerts.length > 0">
            <template x-for="(level, index) in levels" :key="level.name">
                <section class="mb-12" x-show="hasCertsInLevel(level.name)">
                    
                    <!-- Skill Level Header (Expert, etc.) -->
                    <div class="flex items-center mb-6">
                        <div class="h-px bg-gray-300 dark:bg-gray-700 flex-grow"></div>
                        <h2 class="px-4 text-2xl sm:text-3xl font-black uppercase tracking-widest" :style="`color: ${level.color}`" x-text="level.name"></h2>
                        <div class="h-px bg-gray-300 dark:bg-gray-700 flex-grow"></div>
                    </div>
                    
                    <div class="grid grid-cols-1 sm:grid-cols-4 lg:grid-cols-8 gap-3">
                        <template x-for="domain in domains" :key="domain.key + level.name">
                            <div class="flex flex-col" x-show="hasCertsInDomain(level.name, domain.key)">
                                <!-- Domain Title + Sub-Domain Titles (Combined) -->
                                <div class="glass-panel text-center text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2 p-2 rounded-t-lg border-b border-gray-200 dark:border-gray-700 shadow-sm">
                                    <div :style="`color: ${domain.color}`" x-text="domain.shortName || domain.name"></div>
                                    <div class="text-[9px] font-medium text-gray-400 dark:text-gray-500 mt-0.5 normal-case" x-text="domain.subDomains" x-show="domain.subDomains"></div>
                                </div>
                                
                                <div class="bg-white/50 dark:bg-gray-800/30 rounded-b-lg p-2.5 min-h-[120px] flex flex-col gap-2 border border-t-0 border-gray-100 dark:border-gray-800 backdrop-blur-sm h-full">
                                    <template x-for="cert in getCerts(level.name, domain.key)" :key="cert.id">
                                        <!-- Certification Chip with Hover Tooltip -->
                                        <div class="has-tooltip relative w-full">
                                            <!-- Simple Tooltip -->
                                            <div class="tooltip -top-8 left-1/2 -translate-x-1/2 p-2 rounded-lg bg-gray-900 text-white text-xs whitespace-nowrap shadow-lg">
                                                <span x-text="cert.fullName"></span>
                                            </div>
                                            <!-- The Button -->
                                            <button @click="openCertModal(cert)" class="cert-chip" :style="`background-color: ${domain.color}; border-color: ${cert.borderColor}`">
                                                <span x-text="cert.acronym"></span>
                                            </button>
                                        </div>
                                    </template>
                                </div>
                            </div>
                        </template>
                    </div>
                </section>
            </template>
        </div>

        <footer class="mt-16 text-center border-t border-gray-200 dark:border-gray-700 pt-8 pb-4">
            <p class="text-sm text-gray-500 dark:text-gray-400 max-w-2xl mx-auto">
                This is a guide, not a definitive path. Prices & requirements are estimates. Always verify information with the certification body. Based on the excellent original work by CyberSecurity teams.
            </p>
            <div class="mt-4 text-xs font-mono text-gray-400">
                <p>
                  &copy; 2026 by <a href="https://github.com/hackthacker" target="_blank">Hackthacker</a> 
                  | 
                  Visit my Blog: <a href="https://hackthacker.blogspot.com" target="_blank">hackthacker.blogspot.com</a>
                </p>
        </footer>

    </main>

    <!-- ===========================
       Details Modal Component
    ============================ -->
    <div x-show="modalOpen" x-cloak class="relative z-[100]" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div x-show="modalOpen" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="fixed inset-0 bg-gray-900/60 dark:bg-black/80 backdrop-blur-sm transition-opacity"></div>
        <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
            <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
                <div @click.away="closeModal()" x-show="modalOpen" x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100" x-transition:leave="ease-in duration-200" x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100" x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95" class="relative transform overflow-hidden rounded-2xl bg-white dark:bg-slate-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg border border-gray-100 dark:border-slate-700">
                    <div class="h-2 w-full" :style="`background-color: ${activeCert ? getDomain(activeCert.domainKey).color : '#ccc'}`"></div>
                    <div class="px-6 pt-5 pb-4 sm:p-6 sm:pb-4">
                        <div class="sm:flex sm:items-start">
                             <div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10" :style="`background-color: ${activeCert ? getDomain(activeCert.domainKey).color + '20' : '#ccc'}; color: ${activeCert ? getDomain(activeCert.domainKey).color : '#ccc'}`">
                                <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5" /></svg>
                            </div>
                            <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left w-full">
                                <div class="flex flex-wrap justify-center sm:justify-start items-baseline gap-x-3 gap-y-1 mb-2">
                                    <h3 class="text-2xl font-bold font-mono text-gray-900 dark:text-white" x-text="activeCert?.acronym"></h3>
                                    <span class="inline-flex items-center rounded-md px-2 py-0.5 text-xs font-semibold" :style="`background-color: ${getLevel(activeCert?.level).color + '20'}; color: ${getLevel(activeCert?.level).color}; border: 1px solid ${getLevel(activeCert?.level).color + '40'}`" x-text="activeCert?.level"></span>
                                    <span class="inline-flex items-center rounded-md px-2 py-0.5 text-xs font-semibold" :style="`background-color: ${activeCert ? getDomain(activeCert.domainKey).color + '20' : '#ccc'}; color: ${activeCert ? getDomain(activeCert.domainKey).color : '#ccc'}; border: 1px solid ${activeCert ? getDomain(activeCert.domainKey).color + '40' : '#ccc'}`" x-text="activeCert ? getDomain(activeCert.domainKey).name : ''"></span>
                                </div>
                                <p class="text-sm font-semibold text-gray-800 dark:text-gray-100 leading-snug mb-4" x-text="activeCert?.fullName"></p>
                                <div class="bg-gray-50 dark:bg-slate-900/50 rounded-lg p-3 border border-gray-100 dark:border-slate-700 text-left">
                                    <h4 class="text-xs font-bold uppercase tracking-wider text-gray-500 dark:text-gray-400 mb-2">Details & Est. Cost</h4>
                                    <div class="text-sm text-gray-600 dark:text-gray-300 whitespace-pre-wrap font-mono leading-relaxed" x-html="activeCert?.details?.replace(/\n/g, '<br>')"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-gray-50 dark:bg-slate-800/50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-3 rounded-b-2xl">
                        <a :href="activeCert?.href" target="_blank" rel="noopener noreferrer" class="inline-flex w-full justify-center items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 sm:w-auto transition-colors disabled:opacity-50" :class="{ 'pointer-events-none opacity-50': activeCert?.href === '#' }">
                            Visit Site <svg class="w-3.5 h-3.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25" /></svg>
                        </a>
                        <button type="button" @click="closeModal()" class="mt-3 inline-flex w-full justify-center rounded-lg bg-white dark:bg-slate-700 px-4 py-2 text-sm font-semibold text-gray-900 dark:text-gray-200 shadow-sm ring-1 ring-inset ring-gray-300 dark:ring-slate-600 hover:bg-gray-50 dark:hover:bg-slate-600 sm:mt-0 sm:w-auto transition-colors">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
<script>
  function certMap() {
    return {
      isDark: false,
      searchQuery: '',
      modalOpen: false,
      activeCert: null,

      levels: [
        { name: 'Expert', color: '#c0514d' },
        { name: 'Intermediate', color: '#c06216' },
        { name: 'Beginner', color: '#548235' }
      ],

      domains: [
        { key: 'net', name: 'Communication & Network Security', shortName: 'Network', color: '#548235', subDomains: '' },
        { key: 'iam', name: 'Identity & Access Management', shortName: 'IAM', color: '#008080', subDomains: '' },
        { key: 'eng', name: 'Security Architecture & Engineering', shortName: 'Arch & Eng', color: '#c06216', subDomains: 'Cloud/SysOps, *nix, ICS/IoT' },
        { key: 'asset', name: 'Asset Security', shortName: 'Asset Sec', color: '#e4ac03', subDomains: '' },
        { key: 'mgmt', name: 'Security & Risk Management', shortName: 'Risk & Mgmt', color: '#2a2a2a', subDomains: 'GRC' },
        { key: 'test', name: 'Security Assessment & Testing', shortName: 'Assessment', color: '#683e9b', subDomains: '' },
        { key: 'soft', name: 'Software Development Security', shortName: 'Software Sec', color: '#2665a0', subDomains: '' },
        { key: 'ops', name: 'Security Operations', shortName: 'Operations', color: '#c0514d', subDomains: 'Forensics, IR, Pentest, Exploits' }
      ],

      certs: [],

      async init() {
        // Theme init (your existing logic)
        if (
          localStorage.getItem('theme') === 'dark' ||
          (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)
        ) {
          this.isDark = true;
          document.documentElement.classList.add('dark');
        } else {
          this.isDark = false;
          document.documentElement.classList.remove('dark');
        }

        // ✅ Load JSON 
        await this.loadCerts();
      },

      async loadCerts() {
        try {
          const res = await fetch('./certification.json', { cache: 'no-store' });
          if (!res.ok) throw new Error(`HTTP ${res.status} - ${res.statusText}`);

          const data = await res.json();

          // ✅ Strict shape check 
          if (!Array.isArray(data)) throw new Error('certification.json must be an ARRAY of objects');

          const required = ['id', 'acronym', 'fullName', 'details', 'href', 'level', 'domainKey'];
          for (const [i, cert] of data.entries()) {
            for (const k of required) {
              if (!(k in cert)) throw new Error(`Missing "${k}" in item #${i + 1}`);
            }
          }

          this.certs = data;
        } catch (err) {
          console.error('Failed to load certification.json:', err);
          this.certs = [];
          alert('Error loading certification.json. Open DevTools Console to see details.');
        }
      },

      toggleTheme() {
        this.isDark = !this.isDark;
        if (this.isDark) {
          localStorage.setItem('theme', 'dark');
          document.documentElement.classList.add('dark');
        } else {
          localStorage.setItem('theme', 'light');
          document.documentElement.classList.remove('dark');
        }
      },

      openCertModal(cert) {
        this.activeCert = cert;
        this.modalOpen = true;
        document.body.style.overflow = 'hidden';
      },

      closeModal() {
        this.modalOpen = false;
        document.body.style.overflow = 'auto';
      },

      get filteredCerts() {
        if (!this.searchQuery.trim()) return this.certs;
        const q = this.searchQuery.toLowerCase();
        return this.certs.filter(cert =>
          (cert.acronym || '').toLowerCase().includes(q) ||
          (cert.fullName || '').toLowerCase().includes(q)
        );
      },

      getCerts(level, domainKey) {
        return this.filteredCerts.filter(c => c.level === level && c.domainKey === domainKey);
      },

      getDomain(key) {
        return this.domains.find(d => d.key === key) || {};
      },

      getLevel(name) {
        return this.levels.find(l => l.name === name) || {};
      },

      hasCertsInLevel(level) {
        return this.filteredCerts.some(c => c.level === level);
      },

      hasCertsInDomain(level, domainKey) {
        return this.filteredCerts.some(c => c.level === level && c.domainKey === domainKey);
      }
    };
  }
</script>
</body>
</html>
